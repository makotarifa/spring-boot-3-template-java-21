spring.application.name=template

# PostgreSQL settings (override with environment variables if needed)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/template}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:template}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:template}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER:org.postgresql.Driver}

# Flyway will apply migrations located in classpath:db/migration on startup
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# For local docker-compose usage, override SPRING_DATASOURCE_URL:
# SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/template

# OAuth2 Resource Server / Client (placeholders; set actual values using environment variables)
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${SPRING_SECURITY_JWK_URI:}
# MyBatis mapper XML location
mybatis.mapper-locations=classpath:mybatis/mappers/*.xml

# Actuator default exposure (change as needed), ready for configuration
management.endpoints.web.exposure.include=health,info,metrics,env
spring.security.oauth2.client.registration.default.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_ID:}
spring.security.oauth2.client.registration.default.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_SECRET:}

# Disable OAuth2 Client auto-configuration for local development to avoid
# startup failures when client credentials are not provided. Remove this line
# or override in production to enable OAuth2 client support.
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration,org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration

# Disable security by default to allow local runs; set app.security.enabled=true to enable.
app.security.enabled=false
